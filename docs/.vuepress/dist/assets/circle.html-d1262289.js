import{_ as a,M as e,p,q as t,R as n,t as o,N as c,a1 as l}from"./framework-96b046e1.js";const i={},u=l(`<p>项目结构如下：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>src/
├── circle
│   ├── core.rs
│   └── mod.rs
└── main.rs
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="mod-rs" tabindex="-1"><a class="header-anchor" href="#mod-rs" aria-hidden="true">#</a> mod.rs</h2><div class="language-rust line-numbers-mode" data-ext="rs"><pre class="language-rust"><code><span class="token keyword">pub</span> <span class="token keyword">mod</span> <span class="token module-declaration namespace">core</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="core-rs" tabindex="-1"><a class="header-anchor" href="#core-rs" aria-hidden="true">#</a> core.rs</h2><p>该例子的主要内容在 <code>core.rs</code> 文件中，里边定义了一个 <code>Circle</code>结构体 和一个 <code>CircleEnum</code> 枚举，结构体使用了 <code>Default</code> trait，这样就可以方便的创建一个带默认值的对象。</p><p>另外为 <code>Circle</code> 结构体实现了一个 <code>update</code> 方法，用来更新圆形的各个参数，该方法的参数类型为 <code>CircleEnum</code>，当我们需要通过不同的参数来更新圆的信息时，只需要传入如 <code>CircleEnum::R(12.5)</code> 通过半径来更新园，如果要用直径来更新园传入 <code>CircleEnum::D(24.5)</code> 即可。</p><div class="language-rust line-numbers-mode" data-ext="rs"><pre class="language-rust"><code>
<span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span></span><span class="token keyword">f64</span><span class="token punctuation">::</span><span class="token namespace">consts<span class="token punctuation">::</span></span><span class="token constant">PI</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span></span>fmt<span class="token punctuation">;</span>

<span class="token attribute attr-name">#[allow(dead_code)]</span>
<span class="token keyword">pub</span> <span class="token keyword">enum</span> <span class="token type-definition class-name">CircleEnum</span> <span class="token punctuation">{</span>
    <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token keyword">f64</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 半径</span>
    <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token keyword">f64</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 面积</span>
    <span class="token class-name">P</span><span class="token punctuation">(</span><span class="token keyword">f64</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 周长</span>
    <span class="token class-name">D</span><span class="token punctuation">(</span><span class="token keyword">f64</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 直径</span>
<span class="token punctuation">}</span>

<span class="token attribute attr-name">#[derive(Default, Clone, Copy)]</span>
<span class="token keyword">pub</span> <span class="token keyword">struct</span> <span class="token type-definition class-name">Circle</span> <span class="token punctuation">{</span>
    radius<span class="token punctuation">:</span> <span class="token keyword">f64</span><span class="token punctuation">,</span>    <span class="token comment">// 半径</span>
    area<span class="token punctuation">:</span> <span class="token keyword">f64</span><span class="token punctuation">,</span>      <span class="token comment">// 面积</span>
    perimeter<span class="token punctuation">:</span> <span class="token keyword">f64</span><span class="token punctuation">,</span> <span class="token comment">// 周长</span>
    diameter<span class="token punctuation">:</span> <span class="token keyword">f64</span><span class="token punctuation">,</span>  <span class="token comment">// 直径</span>
<span class="token punctuation">}</span>

<span class="token keyword">impl</span> <span class="token class-name">Circle</span> <span class="token punctuation">{</span>

    <span class="token keyword">pub</span> <span class="token keyword">fn</span> <span class="token function-definition function">update</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token keyword">self</span><span class="token punctuation">,</span> circle_enum<span class="token punctuation">:</span> <span class="token class-name">CircleEnum</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> radius_to_area <span class="token operator">=</span> <span class="token closure-params"><span class="token closure-punctuation punctuation">|</span>radius<span class="token punctuation">:</span> <span class="token keyword">f64</span><span class="token closure-punctuation punctuation">|</span></span> <span class="token punctuation">(</span>radius <span class="token operator">*</span> radius<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token constant">PI</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> radius_to_perimeter <span class="token operator">=</span> <span class="token closure-params"><span class="token closure-punctuation punctuation">|</span>radius<span class="token punctuation">:</span> <span class="token keyword">f64</span><span class="token closure-punctuation punctuation">|</span></span> radius <span class="token operator">*</span> <span class="token number">2.0</span> <span class="token operator">*</span> <span class="token constant">PI</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> radius_to_diameter <span class="token operator">=</span> <span class="token closure-params"><span class="token closure-punctuation punctuation">|</span>radius<span class="token punctuation">:</span> <span class="token keyword">f64</span><span class="token closure-punctuation punctuation">|</span></span> radius <span class="token operator">*</span> <span class="token number">2.0</span><span class="token punctuation">;</span>

        <span class="token keyword">match</span> circle_enum <span class="token punctuation">{</span>
            <span class="token comment">// 有半径获取园的其他信息</span>
            <span class="token class-name">CircleEnum</span><span class="token punctuation">::</span><span class="token class-name">R</span><span class="token punctuation">(</span>radius<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                
                <span class="token keyword">let</span> area <span class="token operator">=</span> <span class="token function">radius_to_area</span><span class="token punctuation">(</span>radius<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">let</span> perimeter <span class="token operator">=</span> <span class="token function">radius_to_perimeter</span><span class="token punctuation">(</span>radius<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">self</span><span class="token punctuation">.</span>area <span class="token operator">=</span> area<span class="token punctuation">;</span>
                <span class="token keyword">self</span><span class="token punctuation">.</span>diameter <span class="token operator">=</span> <span class="token function">radius_to_diameter</span><span class="token punctuation">(</span>radius<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">self</span><span class="token punctuation">.</span>perimeter <span class="token operator">=</span> perimeter<span class="token punctuation">;</span>
                <span class="token keyword">self</span><span class="token punctuation">.</span>radius <span class="token operator">=</span> radius<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">// 有周长获取园的其他信息</span>
            <span class="token class-name">CircleEnum</span><span class="token punctuation">::</span><span class="token class-name">P</span><span class="token punctuation">(</span>perimeter<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">let</span> radius <span class="token operator">=</span> perimeter <span class="token operator">/</span> <span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">2.0</span><span class="token punctuation">;</span>
                <span class="token keyword">let</span> area <span class="token operator">=</span> <span class="token function">radius_to_area</span><span class="token punctuation">(</span>radius<span class="token punctuation">)</span><span class="token punctuation">;</span>
                
                <span class="token keyword">self</span><span class="token punctuation">.</span>area <span class="token operator">=</span> area<span class="token punctuation">;</span>
                <span class="token keyword">self</span><span class="token punctuation">.</span>diameter <span class="token operator">=</span> <span class="token function">radius_to_diameter</span><span class="token punctuation">(</span>radius<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">self</span><span class="token punctuation">.</span>perimeter <span class="token operator">=</span> perimeter<span class="token punctuation">;</span>
                <span class="token keyword">self</span><span class="token punctuation">.</span>radius <span class="token operator">=</span> radius<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">// 有面积获取园的其他信息</span>
            <span class="token class-name">CircleEnum</span><span class="token punctuation">::</span><span class="token class-name">A</span><span class="token punctuation">(</span>area<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">let</span> radius <span class="token operator">=</span> <span class="token punctuation">(</span>area <span class="token operator">/</span> <span class="token constant">PI</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">let</span> perimeter <span class="token operator">=</span> <span class="token function">radius_to_perimeter</span><span class="token punctuation">(</span>radius<span class="token punctuation">)</span><span class="token punctuation">;</span>
                
                <span class="token keyword">self</span><span class="token punctuation">.</span>area <span class="token operator">=</span> area<span class="token punctuation">;</span>
                <span class="token keyword">self</span><span class="token punctuation">.</span>diameter <span class="token operator">=</span> <span class="token function">radius_to_diameter</span><span class="token punctuation">(</span>radius<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">self</span><span class="token punctuation">.</span>perimeter <span class="token operator">=</span> perimeter<span class="token punctuation">;</span>
                <span class="token keyword">self</span><span class="token punctuation">.</span>radius <span class="token operator">=</span> radius<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">// 有直径获取园的其他信息</span>
            <span class="token class-name">CircleEnum</span><span class="token punctuation">::</span><span class="token class-name">D</span><span class="token punctuation">(</span>diameter<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">let</span> radius <span class="token operator">=</span> diameter <span class="token operator">/</span> <span class="token number">2.0</span><span class="token punctuation">;</span>
                <span class="token keyword">let</span> area <span class="token operator">=</span> <span class="token function">radius_to_area</span><span class="token punctuation">(</span>radius<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">let</span> perimeter <span class="token operator">=</span> <span class="token function">radius_to_perimeter</span><span class="token punctuation">(</span>radius<span class="token punctuation">)</span><span class="token punctuation">;</span>
                
                <span class="token keyword">self</span><span class="token punctuation">.</span>area <span class="token operator">=</span> area<span class="token punctuation">;</span>
                <span class="token keyword">self</span><span class="token punctuation">.</span>diameter <span class="token operator">=</span> diameter<span class="token punctuation">;</span>
                <span class="token keyword">self</span><span class="token punctuation">.</span>perimeter <span class="token operator">=</span> perimeter<span class="token punctuation">;</span>
                <span class="token keyword">self</span><span class="token punctuation">.</span>radius <span class="token operator">=</span> radius<span class="token punctuation">;</span>

            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>


<span class="token keyword">impl</span> <span class="token namespace">fmt<span class="token punctuation">::</span></span><span class="token class-name">Display</span> <span class="token keyword">for</span> <span class="token class-name">Circle</span> <span class="token punctuation">{</span>
    <span class="token keyword">fn</span> <span class="token function-definition function">fmt</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">,</span> f<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token namespace">fmt<span class="token punctuation">::</span></span><span class="token class-name">Formatter</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">&#39;_</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token namespace">fmt<span class="token punctuation">::</span></span><span class="token class-name">Result</span> <span class="token punctuation">{</span>
        <span class="token macro property">write!</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token string">&quot;Circle Info: \\nRadius: {:.5}\\nArea: {:.5}\\nPerimeter: {:.5}\\nDiameter: {:.5}&quot;</span><span class="token punctuation">,</span> <span class="token keyword">self</span><span class="token punctuation">.</span>radius<span class="token punctuation">,</span> <span class="token keyword">self</span><span class="token punctuation">.</span>area<span class="token punctuation">,</span> <span class="token keyword">self</span><span class="token punctuation">.</span>perimeter<span class="token punctuation">,</span> <span class="token keyword">self</span><span class="token punctuation">.</span>diameter<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="main-rs" tabindex="-1"><a class="header-anchor" href="#main-rs" aria-hidden="true">#</a> main.rs</h2><div class="language-rust line-numbers-mode" data-ext="rs"><pre class="language-rust"><code>
<span class="token keyword">mod</span> <span class="token module-declaration namespace">circle</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token keyword">crate</span><span class="token module-declaration namespace"><span class="token punctuation">::</span>circle<span class="token punctuation">::</span>core<span class="token punctuation">::</span></span><span class="token punctuation">{</span><span class="token class-name">Circle</span><span class="token punctuation">,</span> <span class="token class-name">CircleEnum</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> c1<span class="token punctuation">:</span> <span class="token class-name">Circle</span> <span class="token operator">=</span> <span class="token class-name">Default</span><span class="token punctuation">::</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    c1<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">CircleEnum</span><span class="token punctuation">::</span><span class="token class-name">A</span><span class="token punctuation">(</span><span class="token number">12.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;{}&quot;</span><span class="token punctuation">,</span> c1<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="github-仓库" tabindex="-1"><a class="header-anchor" href="#github-仓库" aria-hidden="true">#</a> Github 仓库</h2>`,11),r={href:"https://github.com/xiaotupo-com/rust-workspace-example",target:"_blank",rel:"noopener noreferrer"};function k(d,m){const s=e("ExternalLinkIcon");return p(),t("div",null,[u,n("p",null,[n("a",r,[o("rust-workspace-example"),c(s)])])])}const b=a(i,[["render",k],["__file","circle.html.vue"]]);export{b as default};
